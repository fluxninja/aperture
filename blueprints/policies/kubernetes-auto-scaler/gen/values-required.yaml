# Generated values file for policies/kubernetes-auto-scaler blueprint
# Documentation/Reference for objects and parameters can be found at:
# https://docs.fluxninja.com/reference/policies/bundled-blueprints/policies/kubernetes-auto-scaler

common:
  # Name of the policy.
  # Type: string
  # Required: True
  policy_name: __REQUIRED_FIELD__

policy:
  kubernetes_object_selector:
    # Namespace.
    # Type: string
    # Required: True
    namespace: __REQUIRED_FIELD__
    # API Version.
    # Type: string
    # Required: True
    api_version: __REQUIRED_FIELD__
    # Kind.
    # Type: string
    # Required: True
    kind: __REQUIRED_FIELD__
    # Name.
    # Type: string
    # Required: True
    name: __REQUIRED_FIELD__
  # List of scale-in criteria.
  # Type: []scale_criteria
  # Required: True
  scale_in_criteria:
    [
      {
        "parameters": { "slope": 1 },
        "query":
          {
            "promql":
              {
                "evaluation_interval": "10s",
                "out_ports":
                  { "output": { "signal_name": "__REQUIRED_FIELD__" } },
                "query_string": "__REQUIRED_FIELD__",
              },
          },
        "set_point": 0.5,
      },
    ]
  # List of scale-out criteria.
  # Type: []scale_criteria
  # Required: True
  scale_out_criteria:
    [
      {
        "parameters": { "slope": -1 },
        "query":
          {
            "promql":
              {
                "evaluation_interval": "10s",
                "out_ports":
                  { "output": { "signal_name": "__REQUIRED_FIELD__" } },
                "query_string": "__REQUIRED_FIELD__",
              },
          },
        "set_point": 1,
      },
    ]
