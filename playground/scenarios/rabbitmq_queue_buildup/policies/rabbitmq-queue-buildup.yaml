# yaml-language-server: $schema=../../../../blueprints/policies/service-protection/rabbitmq-queue-buildup/gen/definitions.json
common:
  policy_name: "service1-demoapp-rabbitmq-queue-buildup"
  queue_name: "service3-demo-app.demoapp.svc.cluster.local"

policy:
  service_protection_core:
    adaptive_load_scheduler:
      load_scheduler:
        # The selectors determine the flows that are protected by this policy.
        # Type: []aperture.spec.v1.Selector
        # Required: True
        selectors:
          - agent_group: default
            control_point: ingress
            service: service1-demo-app.demoapp.svc.cluster.local
  latency_baseliner:
    queue_buildup_setpoint: 1000
